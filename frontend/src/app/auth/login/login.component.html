<div class="form">
  <div class="form__title">Login</div>

  <div class="form__social">
    <div (click)="loginWithGoogle()" class="btn-social btn-social--google">
      <i class="fa fa-google"></i>
      <span>Log in using Google</span>
    </div>
  </div>

  <div class="form__separator">or</div>

  <!--<form (ngSubmit)="onSubmit()" #loginForm="ngForm">
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email"
             required
             [(ngModel)]="user.email" name="email"
             #email="ngModel" >
    </div>
    <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
      Email is required
    </div>

    <div class="form-group {{ (password.errors && (password.dirty || password.touched)) ? 'has-danger' : '' }}">
      <label for="password">Password</label>
      <input type="password" class="form-control form-control-danger" id="password" aria-describedby="passwordHelpBlock"
             required minlength="8" maxlength="20"
             [(ngModel)]="user.password" name="password"
             #password="ngModel" >
      <div *ngIf="password.errors && (password.dirty || password.touched)">
        <div class="form-control-feedback" [hidden]="!password.errors.required">Password is required.</div>
        <div class="form-control-feedback" [hidden]="!password.errors.minlength">Password must be at least 8 characters long.</div>
        <div class="form-control-feedback" [hidden]="!password.errors.maxlength">Password cannot be more than 20 characters long.</div>
      </div>
      <small id="passwordHelpBlock" class="form-text text-muted">
        Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
      </small>
    </div>

    <button type="submit" class="btn btn-success" [disabled]="!loginForm.form.valid">Submit</button>
  </form>-->

  <form [formGroup]="loginForm"  (ngSubmit)="onSubmit()">
    <div class="form-group"  [class.has-danger]="formErrors.email.length > 0"  [class.has-success]="loginForm.get('email').valid">
      <label for="email">Email</label>
      <input type="text" id="email"
             class="form-control" [class.form-control-success]="loginForm.get('email').valid"
             formControlName="email" >

      <div class="form-control-feedback" *ngFor="let error of formErrors.email" >{{ error }}</div>
    </div>

    <div class="form-group"  [class.has-danger]="formErrors.password.length > 0"  [class.has-success]="loginForm.get('password').valid">
      <label for="password">Password</label>
      <input type="password" id="password" aria-describedby="passwordHelpBlock"
             class="form-control" [class.form-control-success]="loginForm.get('password').valid"
             formControlName="password" >

      <div class="form-control-feedback" *ngFor="let error of formErrors.password" >{{ error }}</div>
      <small id="passwordHelpBlock" class="form-text text-muted">
        Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
      </small>
    </div>

    <button type="submit"  class="btn btn-success"  [disabled]="!loginForm.valid">Submit</button>
  </form>
</div>
